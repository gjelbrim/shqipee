{
  "version": 3,
  "sources": ["../../svelte-copy/dist/copy.js"],
  "sourcesContent": ["export async function copyText(text) {\n    if ('clipboard' in navigator) {\n        await navigator.clipboard.writeText(text);\n    }\n    else {\n        //? This is the fallback deprecated way of copying text to the clipboard.\n        //? Only runs if it can't find the clipboard API.\n        const element = document.createElement('input');\n        element.type = 'text';\n        element.disabled = true;\n        element.style.setProperty('position', 'fixed');\n        element.style.setProperty('z-index', '-100');\n        element.style.setProperty('pointer-events', 'none');\n        element.style.setProperty('opacity', '0');\n        element.value = text;\n        document.body.appendChild(element);\n        element.click();\n        element.select();\n        document.execCommand('copy');\n        document.body.removeChild(element);\n    }\n}\nfunction parseOptions(options) {\n    return typeof options == 'string' ? { text: options } : options;\n}\nfunction addListeners(element, cb, events = ['click']) {\n    for (const event of events) {\n        element.addEventListener(event, cb, true);\n    }\n}\nfunction removeListeners(element, cb, events = ['click']) {\n    for (const event of events) {\n        element.removeEventListener(event, cb, true);\n    }\n}\n/**\n * A svelte action to copy text to clipboard.\n *\n * @see https://svelte-copy.willow.codes\n *\n * @example\n *\n * <script>\n *     import { copy } from 'svelte-copy';\n * </script>\n *\n * <button use:copy={'Hello World'}>\n *     Click me!\n * </button>\n */\nexport const copy = (element, initialOptions) => {\n    let options = parseOptions(initialOptions);\n    const handle = async (event) => {\n        const text = options.text;\n        try {\n            await copyText(text);\n            options.onCopy?.({ text, event });\n        }\n        catch (e) {\n            const error = new Error(`${e instanceof Error ? e.message : e}`, {\n                cause: e,\n            });\n            options.onError?.({ error, event });\n        }\n    };\n    addListeners(element, handle, options.events);\n    return {\n        update(newOptions) {\n            removeListeners(element, handle, options.events);\n            options = parseOptions(newOptions);\n            addListeners(element, handle, options.events);\n        },\n        destroy() {\n            removeListeners(element, handle, options.events);\n        },\n    };\n};\n"],
  "mappings": ";;;AAAA,eAAsB,SAAS,MAAM;AACjC,MAAI,eAAe,WAAW;AAC1B,UAAM,UAAU,UAAU,UAAU,IAAI;AAAA,EAC5C,OACK;AAGD,UAAM,UAAU,SAAS,cAAc,OAAO;AAC9C,YAAQ,OAAO;AACf,YAAQ,WAAW;AACnB,YAAQ,MAAM,YAAY,YAAY,OAAO;AAC7C,YAAQ,MAAM,YAAY,WAAW,MAAM;AAC3C,YAAQ,MAAM,YAAY,kBAAkB,MAAM;AAClD,YAAQ,MAAM,YAAY,WAAW,GAAG;AACxC,YAAQ,QAAQ;AAChB,aAAS,KAAK,YAAY,OAAO;AACjC,YAAQ,MAAM;AACd,YAAQ,OAAO;AACf,aAAS,YAAY,MAAM;AAC3B,aAAS,KAAK,YAAY,OAAO;AAAA,EACrC;AACJ;AACA,SAAS,aAAa,SAAS;AAC3B,SAAO,OAAO,WAAW,WAAW,EAAE,MAAM,QAAQ,IAAI;AAC5D;AACA,SAAS,aAAa,SAAS,IAAI,SAAS,CAAC,OAAO,GAAG;AACnD,aAAW,SAAS,QAAQ;AACxB,YAAQ,iBAAiB,OAAO,IAAI,IAAI;AAAA,EAC5C;AACJ;AACA,SAAS,gBAAgB,SAAS,IAAI,SAAS,CAAC,OAAO,GAAG;AACtD,aAAW,SAAS,QAAQ;AACxB,YAAQ,oBAAoB,OAAO,IAAI,IAAI;AAAA,EAC/C;AACJ;AAgBO,IAAM,OAAO,CAAC,SAAS,mBAAmB;AAC7C,MAAI,UAAU,aAAa,cAAc;AACzC,QAAM,SAAS,OAAO,UAAU;AApDpC;AAqDQ,UAAM,OAAO,QAAQ;AACrB,QAAI;AACA,YAAM,SAAS,IAAI;AACnB,oBAAQ,WAAR,iCAAiB,EAAE,MAAM,MAAM;AAAA,IACnC,SACO,GAAG;AACN,YAAM,QAAQ,IAAI,MAAM,GAAG,aAAa,QAAQ,EAAE,UAAU,CAAC,IAAI;AAAA,QAC7D,OAAO;AAAA,MACX,CAAC;AACD,oBAAQ,YAAR,iCAAkB,EAAE,OAAO,MAAM;AAAA,IACrC;AAAA,EACJ;AACA,eAAa,SAAS,QAAQ,QAAQ,MAAM;AAC5C,SAAO;AAAA,IACH,OAAO,YAAY;AACf,sBAAgB,SAAS,QAAQ,QAAQ,MAAM;AAC/C,gBAAU,aAAa,UAAU;AACjC,mBAAa,SAAS,QAAQ,QAAQ,MAAM;AAAA,IAChD;AAAA,IACA,UAAU;AACN,sBAAgB,SAAS,QAAQ,QAAQ,MAAM;AAAA,IACnD;AAAA,EACJ;AACJ;",
  "names": []
}
